# Flutter 3.41.0 æ›´æ–°è¦ç‚¹é€Ÿè¯„ï¼šä¸»æ‰“ä¼˜åŒ–ï¼Œé¿å‘AGP 9


**å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯è€åˆ˜**

ä¸€ä¸ªä¸“æ³¨ç”¨è·¨å¹³å°æŠ€æœ¯è§£å†³å®æˆ˜é—®é¢˜çš„å¼€å‘è€å…µã€‚

2æœˆ12æ—¥ï¼ŒFlutter 3.41.0 å‘å¸ƒã€‚

è¿™åº”è¯¥æ˜¯è¿‡å¹´å‰æœ€åä¸€ä¸ªå¤§ç‰ˆæœ¬ï¼Œåç»­å¤§æ¦‚ç‡ä¼šæœ‰3.41.xå°ç‰ˆæœ¬è¿­ä»£ã€‚

æ€»çš„æ¥è¯´è¿™ä¸æ˜¯ä¸€ä¸ªé‡å¤§æ›´æ–°çš„ç‰ˆæœ¬ï¼Œä¸»æ‰“çš„æ˜¯å„ä¸ªç¯èŠ‚çš„ä¼˜åŒ–ã€‚

æ¥ä¸‹æ¥è€åˆ˜æ‘˜å‡ºæ¥Flutter 3.41.0ä¸­å‡ ä¸ªæˆ‘è®¤ä¸ºå€¼å¾—å…³æ³¨çš„ç‚¹ã€‚

å¦‚æœå¸Œæœ›äº†è§£æ›´å¤šè¯¦æƒ…ï¼Œå»ºè®®æŸ¥çœ‹Flutterå®˜æ–¹å‘å¸ƒæ—¥å¿—ï¼š https://docs.flutter.dev/release/release-notes/release-notes-3.41.0

## 1. æ ¸å¿ƒè¦ç‚¹è§£æ

### 2.1 Flutter sdk ä¸ UIåº“è§£è€¦ 

æŒç»­æ¨è¿›å°† Material å’Œ Cupertino åº“è¿ç§»ä¸ºç‹¬ç«‹åŒ…ã€‚

UI ç»„ä»¶ä¸åŸºç¡€è®¾æ–½åˆ†ç¦»æ—©è¯¥å¦‚æ­¤äº†ã€‚

è¿™æ ·ä¹Ÿå°±è§£å†³äº†æˆ‘ä»¬å¼€å‘çš„æ—¶å€™æƒ³ç”¨æ–°çš„ç»„ä»¶åˆä¸æƒ³å‡çº§Flutter ç‰ˆæœ¬çš„é—®é¢˜ã€‚

å› ä¸ºå‡çº§Flutterç‰ˆæœ¬æ€»æ˜¯ä¼šå¯¹å½“å‰çš„ç¨³å®šæ€§é€ æˆä¸€å®šçš„å½±å“ï¼Œä½†æ˜¯å‡çº§ç»„ä»¶åº“ç›¸å¯¹æ¥è¯´é£é™©æ›´å¯æ§ã€‚

### 2.2 å¹³å°ç‰¹å®šèµ„æº (Platform-specific assets) 

åœ¨ pubspec.yaml ä¸­å¯ä»¥æŒ‡å®šèµ„æºé€‚ç”¨çš„å¹³å°ï¼Œä»è€Œä¼˜åŒ–åŒ…ä½“ç§¯ï¼ˆä¾‹å¦‚åœ¨ç§»åŠ¨ç«¯æ„å»ºä¸­æ’é™¤æ¡Œé¢ç«¯çš„å¤§å‹èµ„æºï¼‰ã€‚


```yaml
flutter:
  assets:
    - path: assets/logo.png
    - path: assets/web_worker.js
      platforms: [web]
    - path: assets/desktop_icon.png
      platforms: [windows, linux, macos]
```

è¿™ä¸ªå¯¹çº¯æ‰‹æœºç«¯å¯èƒ½å½±å“æœ‰é™ï¼Œä½†æ˜¯å¯¹äºæ¨ªè·¨æ‰‹æœºå’Œæ¡Œé¢ç«¯çš„åº”ç”¨æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„ä¼˜åŒ–ã€‚

ä½†æ˜¯è€åˆ˜è¿™é‡Œè¿˜æ˜¯è¦æé†’ä¸€ä¸‹ï¼ŒåŒæ—¶æ¨ªè·¨æ‰‹æœºå’Œæ¡Œé¢ç«¯çœ‹èµ·æ¥å¾ˆç¾ã€‚

å®é™…å·¥ç¨‹ä¸­è¦å°å¿ƒè¯„ä¼°ä½ çš„åº”ç”¨åœºæ™¯ï¼Œå¾ˆå¤šæ—¶å€™æ‰‹æœºå’Œæ¡Œé¢ç«¯çš„ä¸šåŠ¡é€»è¾‘æ˜¯ä¸å®Œå…¨ä¸€æ ·çš„ã€‚


### 2.3  Add-to-App å¢å¼º

åµŒå…¥åŸç”Ÿåº”ç”¨çš„ Flutter è§†å›¾ç°åœ¨æ”¯æŒæ ¹æ®å†…å®¹ è‡ªåŠ¨è°ƒæ•´å¤§å° ï¼ˆä¸å†éœ€è¦å›ºå®šå°ºå¯¸ï¼‰ã€‚

![](https://miro.medium.com/v2/resize:fit:640/format:webp/1*46fO6mit5AFOq9ZY7YtRmA.gif)

è¿™åˆæ˜¯ä¸€ä¸ªçœ‹èµ·æ¥å¾ˆç¾å¥½çš„åŠŸèƒ½ã€‚

å®é™…å·¥ç¨‹ä¸­è¿˜æ˜¯å°½é‡é¿å…ç»„ä»¶çº§åˆ«çš„æ··åˆé¡µé¢ã€‚

è¿™æ ·å¯¹é¡µé¢å¤æ‚åº¦å’Œæ¶æ„å¤æ‚åº¦éƒ½æ˜¯ä¸å°çš„è€ƒç ”ï¼Œå¾ˆå®¹æ˜“åœ¨ä»£ç ä¸­ç•™ä¸‹éšæ‚£ï¼Œç»™æœªæ¥åŸ‹å‘ã€‚

å®é™…çš„æ··åˆå¼€å‘ä¸­è¿˜æ˜¯æ›´æ¨èæŒ‰ç…§é¡µé¢ä¸ºå•ä½è¿›è¡ŒFlutteræˆ–è€…åŸç”Ÿçš„åˆ’åˆ†ã€‚

å¼ºè°ƒä¸€ä¸‹æ··åˆå¼€å‘ä»ç„¶æ˜¯æ¯”è¾ƒæ¨èçš„è€ä»£ç è¿ç§»æ–¹æ¡ˆã€‚

å› ä¸ºFlutterçš„è·¨å¹³å°èƒ½åŠ›ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸æ”¹å˜ä¸šåŠ¡é€»è¾‘çš„æƒ…å†µä¸‹ï¼Œå¿«é€Ÿè¿ç§»åˆ°Flutterã€‚

è¿™ä¹Ÿæ˜¯Flutterè¢«å¹¿æ³›åº”ç”¨çš„ä¸€ä¸ªé‡è¦åŸå› ã€‚

### 2.4 æ¡Œé¢ç«¯ (Desktop)

ç®€å•æ¥è¯´å°±æ˜¯è¿˜åœ¨åŠªåŠ›æ¨è¿›ï¼Œé€æ­¥è¡¥å…¨æ¡Œé¢ç«¯çš„æ‹¼å›¾ã€‚

### 2.5 Dart å‡çº§åˆ° 3.11.0

æœ‰ä¸€ä¸ªBreaking Change

dart2wasm ä¸å†æ”¯æŒ dart:js_utilï¼Œå¿…é¡»è¿ç§»åˆ° dart:js_interop ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚

## 3. é¿å‘æŒ‡å—

### 3.1 AGP 9ï¼šæš‚æ—¶åˆ«å‡çº§

è™½ç„¶ AGP (Android Gradle Plugin) 9.0 å¸¦æ¥äº†æ„å»ºæ€§èƒ½çš„æå‡ï¼Œä½†**è€åˆ˜å¼ºçƒˆå»ºè®®å¤§å®¶æš‚æ—¶ä¸è¦å‡çº§**ã€‚

ç›®å‰ Flutter å®˜æ–¹æ˜ç¡®è¡¨ç¤º AGP 9 ä¼šå¯¼è‡´å¤§é‡ç°æœ‰æ’ä»¶ä¸å¯ç”¨ã€‚

![alt text](assets/Flutter%203.41.0%20AGP9.png)

å› ä¸º AGP 9 ç§»é™¤äº†å¾ˆå¤šåºŸå¼ƒçš„ APIï¼ˆæ¯”å¦‚ Transform APIï¼‰ã€‚

å»ºè®®ç­‰å®˜æ–¹çš„è¿ç§»è„šæœ¬å’Œç¬¬ä¸‰æ–¹æ’ä»¶ç”Ÿæ€éƒ½è·Ÿä¸Šä¹‹åï¼Œæˆ‘ä»¬å†ä»å®¹å‡çº§ã€‚

### 3.2 SwiftPMï¼šè€é¡¹ç›®éœ€è°¨æ…

Flutterå¼•å…¥Swift Package Manager (SPM)æ”¯æŒæ˜¯ä¸ºäº†æœ€ç»ˆæ‘†è„± CocoaPods å’Œ Ruby ç¯å¢ƒçš„ä¾èµ–ï¼Œè¿™æ˜¯ iOS å¼€å‘çš„æ­£ç¡®æ–¹å‘ã€‚

**å¯¹äºè€é¡¹ç›®è¿ç§»ï¼Œä¸€å®šè¦æ…ä¹‹åˆæ…**ã€‚

ç›®å‰ SPM çš„æ”¯æŒè¿˜å¤„äº"æ··åˆæ¨¡å¼"é˜¶æ®µï¼Œå¾ˆå¤šè€æ’ä»¶å¹¶æ²¡æœ‰é€‚é… SPM (ç¼ºå°‘ Package.swift)ï¼Œè¿™ä¼šå¯¼è‡´é¡¹ç›®åŒæ—¶ä¾èµ– CocoaPods å’Œ SPMï¼Œææ˜“äº§ç”Ÿä¾èµ–å†²çªå’Œ Xcode é…ç½®æ··ä¹±ã€‚


## 4. æ€»ç»“

Flutter 3.41 æ˜¯ä¸€ä¸ªæ‰¿ä¸Šå¯ä¸‹çš„ç‰ˆæœ¬ï¼Œä¸º 2026 å¹´çš„ç¨³å®šè¿­ä»£æ‰“å¥½äº†åœ°åŸºã€‚

è¯´å®è¯è€åˆ˜è®¤ä¸ºå¼€å¹´ç¬¬ä¸€ä¸ªç‰ˆæœ¬ä¸è¦æ›´æ–°å¤ªé‡å¤§çš„åŠŸèƒ½ï¼Œä¸º2026æä¾›ä¸€ä¸ªç¨³å®šçš„åŸºç¡€ç‰ˆæœ¬æ˜¯æ¯”è¾ƒå¥½çš„ã€‚

ä½†æ˜¯æˆ‘ä»¬ä»ç„¶æ˜¯å»ºè®®ç­‰2ä¸ªæœˆä»¥ä¸Šï¼Œä¸€åˆ‡ç¨³å®šåå†è€ƒè™‘å‡çº§ã€‚


> ğŸ¤ å¦‚æœçœ‹åˆ°è¿™é‡Œçš„åŒå­¦å¯¹å®¢æˆ·ç«¯å¼€å‘æˆ–è€…Flutterå¼€å‘æ„Ÿå…´è¶£ï¼Œæ¬¢è¿è”ç³»è€åˆ˜ï¼Œæˆ‘ä»¬äº’ç›¸å­¦ä¹ ã€‚
> 
> ğŸ ç‚¹å‡»å…è´¹é¢†è€åˆ˜æ•´ç†çš„ã€ŠFlutterå¼€å‘æ‰‹å†Œã€‹ï¼Œè¦†ç›–90%åº”ç”¨å¼€å‘åœºæ™¯ã€‚
> 
> ğŸš€ [è¦†ç›–90%å¼€å‘åœºæ™¯çš„ã€ŠFlutterå¼€å‘æ‰‹å†Œã€‹](https://mp.weixin.qq.com/s?__biz=MzkxMDMzNTM0Mw==&mid=2247483665&idx=1&sn=56aec9504da3ffad5797e703c12c51f6&chksm=c12c4d11f65bc40767956e534bd4b6fa71cbc2b8f8980294b6db7582672809c966e13cbbed25#rd)
>

> ğŸ“‚ è€åˆ˜ä¹ŸæŠŠè‡ªå·±å†å²æ–‡ç« æ•´ç†åœ¨GitHubä»“åº“é‡Œï¼Œæ–¹ä¾¿å¤§å®¶æŸ¥é˜…ã€‚
> ğŸ”— https://github.com/lzt-code/blog
